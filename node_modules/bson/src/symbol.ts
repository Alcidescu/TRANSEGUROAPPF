<<<<<<< HEAD
import { BSONValue } from './bson_value';
import { type InspectFn, defaultInspect } from './parser/utils';

=======
>>>>>>> 36e6c1d122dc190a65359e5ccef36f21fa6dd909
/** @public */
export interface BSONSymbolExtended {
  $symbol: string;
}

/**
 * A class representation of the BSON Symbol type.
 * @public
 * @category BSONType
 */
<<<<<<< HEAD
export class BSONSymbol extends BSONValue {
  get _bsontype(): 'BSONSymbol' {
    return 'BSONSymbol';
  }
=======
export class BSONSymbol {
  _bsontype!: 'Symbol';
>>>>>>> 36e6c1d122dc190a65359e5ccef36f21fa6dd909

  value!: string;
  /**
   * @param value - the string representing the symbol.
   */
  constructor(value: string) {
<<<<<<< HEAD
    super();
=======
    if (!(this instanceof BSONSymbol)) return new BSONSymbol(value);

>>>>>>> 36e6c1d122dc190a65359e5ccef36f21fa6dd909
    this.value = value;
  }

  /** Access the wrapped string value. */
  valueOf(): string {
    return this.value;
  }

  toString(): string {
    return this.value;
  }

<<<<<<< HEAD
=======
  /** @internal */
  inspect(): string {
    return `new BSONSymbol("${this.value}")`;
  }

>>>>>>> 36e6c1d122dc190a65359e5ccef36f21fa6dd909
  toJSON(): string {
    return this.value;
  }

  /** @internal */
  toExtendedJSON(): BSONSymbolExtended {
    return { $symbol: this.value };
  }

  /** @internal */
  static fromExtendedJSON(doc: BSONSymbolExtended): BSONSymbol {
    return new BSONSymbol(doc.$symbol);
  }

<<<<<<< HEAD
  inspect(depth?: number, options?: unknown, inspect?: InspectFn): string {
    inspect ??= defaultInspect;
    return `new BSONSymbol(${inspect(this.value, options)})`;
  }
}
=======
  /** @internal */
  [Symbol.for('nodejs.util.inspect.custom')](): string {
    return this.inspect();
  }
}

Object.defineProperty(BSONSymbol.prototype, '_bsontype', { value: 'Symbol' });
>>>>>>> 36e6c1d122dc190a65359e5ccef36f21fa6dd909
